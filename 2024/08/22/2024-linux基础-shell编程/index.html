<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>shell编程 | xzw の 的个人博客</title><meta name="author" content="xzw"><meta name="copyright" content="xzw"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Shell编程Shell介绍 linux 通过内核操作计算机硬件,内存,磁盘,显示器等 通过编写Shell命令发送给 linux 内核去执行,操作的就是计算机硬件,所以 Shell命令是用户操作计算机硬件的桥梁 Shell是一门程序程序设计语言,含有变量,流程控制语句等 Shell就是通过shell命令编写的shell文本文件,也就是shell脚本 shell脚本 –&gt; shell 解析器">
<meta property="og:type" content="article">
<meta property="og:title" content="shell编程">
<meta property="og:url" content="https://xzwsloser.github.io/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="xzw の 的个人博客">
<meta property="og:description" content="Shell编程Shell介绍 linux 通过内核操作计算机硬件,内存,磁盘,显示器等 通过编写Shell命令发送给 linux 内核去执行,操作的就是计算机硬件,所以 Shell命令是用户操作计算机硬件的桥梁 Shell是一门程序程序设计语言,含有变量,流程控制语句等 Shell就是通过shell命令编写的shell文本文件,也就是shell脚本 shell脚本 –&gt; shell 解析器">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img1.baidu.com/it/u=3942429818,2071392539&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1062">
<meta property="article:published_time" content="2024-08-22T15:09:13.654Z">
<meta property="article:modified_time" content="2024-08-22T15:18:22.978Z">
<meta property="article:author" content="xzw">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img1.baidu.com/it/u=3942429818,2071392539&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1062"><link rel="shortcut icon" href="/img/touxiang.webp"><link rel="canonical" href="https://xzwsloser.github.io/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'shell编程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-22 23:18:22'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/touxiang.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/1.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="xzw の 的个人博客"><img class="site-icon" src="/img/touxiang.webp"/><span class="site-name">xzw の 的个人博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">shell编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-22T15:09:13.654Z" title="发表于 2024-08-22 23:09:13">2024-08-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-22T15:18:22.978Z" title="更新于 2024-08-22 23:18:22">2024-08-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/">C++ 后台开发</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/Linux%E5%9F%BA%E7%A1%80/">Linux基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="shell编程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Shell编程"><a href="#Shell编程" class="headerlink" title="Shell编程"></a>Shell编程</h1><h2 id="Shell介绍"><a href="#Shell介绍" class="headerlink" title="Shell介绍"></a>Shell介绍</h2><ul>
<li><code>linux</code> 通过内核操作计算机硬件,内存,磁盘,显示器等</li>
<li>通过编写<code>Shell</code>命令发送给 <code>linux</code> 内核去执行,操作的就是计算机硬件,所以 <code>Shell</code>命令是用户操作计算机硬件的桥梁</li>
<li><code>Shell</code>是一门程序程序设计语言,含有变量,流程控制语句等</li>
<li><code>Shell</code>就是通过<code>shell</code>命令编写的<code>shell</code>文本文件,也就是<code>shell</code>脚本</li>
<li><code>shell</code>脚本 –&gt; <code>shell</code> 解析器 –&gt; 内核  —&gt; 响应 </li>
<li>支持的<code>shell</code>解析器如下,一般使用 <code>bash</code></li>
<li>利用 <code>$SHELL</code> 可以查看默认的 <code>shell</code> 解析器, <code>$SHELL</code> 是全局环境变量,所有 <code>shell</code>程序都可以访问的<br><img src="/img/image.png" alt="source/_posts/2024/linux基础/img/image.png"></li>
</ul>
<h2 id="Shell入门"><a href="#Shell入门" class="headerlink" title="Shell入门"></a>Shell入门</h2><ul>
<li>后缀名: <code>.sh</code></li>
<li>首行需要时设置: <code>#!/bin/bash</code>  表示采用 <code>bash</code>解析</li>
<li>注释格式: <code>#</code>    多行: <code>:&lt;&lt;!   # 内容1   # 内容2  !</code> </li>
<li>执行方式:<ul>
<li><code>sh</code>解析器执行方式  <code>sh Xxx.sh</code></li>
<li><code>bash</code>解析器解析方式 <code>bash Xxx.sh</code></li>
<li>仅路径执行方式  <code>./Xxx.sh</code> 需要权限</li>
</ul>
</li>
</ul>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><ul>
<li><p>系统环境变量: 是系统提供的共享变量,是<code>linux</code>系统加载<code>shell</code>配置文件中定义的变量共享给所有的<code>shell</code>程序使用:</p>
<ul>
<li>全局配置文件<ul>
<li><code>/etc/profile</code>  </li>
<li><code>/etc/profile.d/*.sh</code></li>
<li><code>/etc/bashrc</code></li>
</ul>
</li>
<li>个人配置文件:<ul>
<li>&#x2F;.bash_profile</li>
<li>&#x2F;.bashrc</li>
</ul>
</li>
</ul>
</li>
<li><p>用户级环境变量: <code>Shell</code> 加载个人配置文件,共享给当前当前用户的<code>Shell</code>程序使用</p>
</li>
<li><p>自定义变量:</p>
</li>
<li><p>特殊符号变量: </p>
</li>
<li><p>可以使用 <code>set</code> 变量查看所有函数和系统变量</p>
</li>
<li><p>常用的环境变量:</p>
<ul>
<li><code>PATH</code> 设置命令的搜索路径,使用 : 分割</li>
<li><code>HISTFILE</code> 表示命令列表</li>
<li><code>SHELL</code> 当前解析器</li>
<li><code>LANG</code> 表示使用的字符编码方式</li>
</ul>
</li>
<li><p><code>env</code> 用户查看系统环境变量  <code>set</code> 还会查看自定义变量和函数</p>
</li>
</ul>
<h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><ul>
<li>自定义局部变量(定义在一个脚本文件中的变量只能在这一个脚本文件中使用的变量) <code>变量名=变量值</code>  注意没有空格,不可以使用关键字作为变量名称</li>
<li>自定义常量: 设置值之后就不可以修改了 <code>readonly 变量名=变量值</code></li>
<li>自定义全局变量</li>
<li>查询变量的值:<ul>
<li><code>$变量名</code></li>
<li><code>$&#123;变量名&#125;</code> 适合拼接字符串</li>
</ul>
</li>
<li>删除变量: <code>unset 变量名</code></li>
</ul>
<h3 id="父子Shell环境介绍"><a href="#父子Shell环境介绍" class="headerlink" title="父子Shell环境介绍"></a>父子Shell环境介绍</h3><ul>
<li>如果在 <code>A.sh</code> 中执行了 <code>B.sh</code> 那么<code>A.sh</code>就是父<code>Shell</code>环境,<code>B.sh</code>就是子<code>Shell</code>环境</li>
<li>如果在 <code>A.sh</code>中定义全局变量,<code>B.sh</code>中也可以使用</li>
<li>定义全局变量的方式:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export var_name1 var_name2</span><br></pre></td></tr></table></figure></li>
<li>删除还是使用 <code>unset</code></li>
</ul>
<h3 id="特殊符号变量"><a href="#特殊符号变量" class="headerlink" title="特殊符号变量"></a>特殊符号变量</h3><ul>
<li><code>$n</code>: 用于接受脚本文件传入的参数  <code>$1 - $9</code> 表示获取第 <code>n</code> 个参数 或者 <code>$&#123;数字&#125;</code>,<code>$0</code> 表示脚本名称</li>
<li><code>$#</code> 表示获取所有输入参数的个数</li>
<li><code>$@</code> 表示获取所有输入参数的个数,不使用 双引号括起来功能一样</li>
<li><code>&quot;$*&quot;</code> 获取所有参数拼接的一个字符串  <code>&quot;$@&quot;</code>  表示获取一组参数列表对象,利用循环打印所有输入参数</li>
<li><code>$?</code> 用于获取上一个 <code>Shell</code> 命令的退出状态码,或者函数的返回值</li>
<li><code>$$</code> 获取当前进程环境的 <code>ID</code></li>
</ul>
<h3 id="自定义系统环境变量"><a href="#自定义系统环境变量" class="headerlink" title="自定义系统环境变量"></a>自定义系统环境变量</h3><ul>
<li>主要编辑 <code>/etc/profile</code> 其中就是系统级别的环境变量,当用户进入系统环境初始化的时候,会加载<code>/etc/profle</code> 中的环境变量,提供给所有的<code>shell</code>程序使用,只要是所有的 <code>Shell</code>程序使用的全局变量都可以定义在这一个文件中</li>
<li>创建步骤:</li>
</ul>
<ol>
<li>增加变量<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">增加命令:</span></span><br><span class="line">定义变量VAR1=VAR1</span><br><span class="line">并且倒入为环境变量</span><br><span class="line">export VAR1=VAR1</span><br></pre></td></tr></table></figure></li>
<li>重载环境变量<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><code>vim</code> 中使用 <code>G</code> 定位到文件末尾 <code>gg</code>定位到首行位置</li>
</ul>
<h3 id="加载流程原理"><a href="#加载流程原理" class="headerlink" title="加载流程原理"></a>加载流程原理</h3><ul>
<li><code>Shell</code>工作环境: 用户进入 <code>linux</code> 系统就会初始化<code>shell</code>环境,这一个环境会加载全局配置文件和个人配置文件文件,每一个脚本都有自己的<code>shell</code>环境</li>
<li>交互式: 与用户进行交互,互动,用户输入,<code>shell</code>就会作出反映</li>
<li>非交互式: 不用用户参与就可以执行多个命令</li>
<li><code>shell</code>登陆环境: 需要用户名&#x2F;密码登陆的<code>shell</code>环境</li>
<li><code>shell</code>非登陆环境: 不需要用户名,密码进入的<code>shell</code>环境或者执行脚本文件</li>
<li>环境变量执行过程:<br><img src="/img/Screenshot_20240821_220019_tv.danmaku.bilibilihd.jpg" alt="source/_posts/2024/linux基础/img/Screenshot_20240821_220019_tv.danmaku.bilibilihd.jpg"></li>
<li>可以查看 <code>/etc/passwd</code> 查看用户</li>
<li>切换 <code>shell</code> 环境,可以指定具体<code>shell</code>环境进行执行脚本文件<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh/bash -l/--login  # 登陆环境</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash # 加载 shell 份非登陆环境</span><br><span class="line">sh/bash 脚本文件 # 之间执行脚本文件</span><br></pre></td></tr></table></figure></li>
<li>需要登陆的写在 <code>/etc/profile</code>里面,否则可以写在 ~&#x2F;.bashrc</li>
<li>识别<code>shell</code>环境的命令: <code>echo $0</code>:<ul>
<li><code>-bash</code> 表示登陆环境</li>
<li><code>bash</code> 表示非登陆环境</li>
</ul>
</li>
</ul>
<h2 id="字符串变量"><a href="#字符串变量" class="headerlink" title="字符串变量"></a>字符串变量</h2><ul>
<li>定义方式:<ul>
<li>单引号(原样输出)</li>
<li>双引号</li>
<li>不使用引号方式</li>
</ul>
</li>
<li>单引号无法解析<code>$&#123;&#125;</code>,但是双引号无法解析</li>
<li>可以使用 \ 进行转义字符</li>
<li>字符串拼接:<ul>
<li>没有符号拼接</li>
<li>双引号拼接</li>
<li>混合拼接</li>
</ul>
</li>
</ul>
<h3 id="字符串截取"><a href="#字符串截取" class="headerlink" title="字符串截取"></a>字符串截取</h3><ul>
<li>字符串截取方式:<ul>
<li><code>$&#123;变量名:start:length&#125;</code></li>
<li><code>$&#123;变量名:start&#125;</code></li>
<li><code>$&#123;变量名:0-start:length&#125;</code>,表示从右边开始截取</li>
<li><code>$&#123;变量名#*chars&#125;</code> 截取左边出现的某个第一次出现的字符的右边的所有字符</li>
<li><code>$&#123;变量名##*chars&#125;</code> 截取从右边第一个出现指定的佐夫的右边的所有字符</li>
<li><code>$&#123;变量名%chars*&#125;</code> 表示按照右边查找第一个截取左边</li>
<li><code>$&#123;变量名%%chars*&#125;</code> 表示按照右边查找最后一个字符截取左边的</li>
</ul>
</li>
</ul>
<h2 id="Shell索引数组变量"><a href="#Shell索引数组变量" class="headerlink" title="Shell索引数组变量"></a>Shell索引数组变量</h2><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array_name=(item1 item2) # 方式1</span><br><span class="line">array_name([索引下标1]=item1 [索引下标]=item2)</span><br></pre></td></tr></table></figure></li>
<li>数据类型可以不同,但是注意初始了多少个索引就说明长度为多少</li>
<li>获取元素 <code>$&#123;arr[index]&#125;</code></li>
<li>赋值操作 <code>item=$&#123;arr[index]&#125;</code></li>
<li>使用<code>@</code>或者<code>*</code>获取所有元素<code>$&#123;arr[@]&#125;</code> <code>arr[*]</code></li>
<li>获取指定元素的长度 <code>$&#123;#arr[索引]&#125;</code></li>
<li>数组的拼接: <code>arr_new=($&#123;arr1[@/*] $&#123;arr2[@/*]&#125;&#125;)</code></li>
<li>删除数组中的元素或者删除整个数组:<ul>
<li><code>unset arr[index]</code></li>
<li><code>unset arr</code></li>
</ul>
</li>
</ul>
<h2 id="shell内置命令"><a href="#shell内置命令" class="headerlink" title="shell内置命令"></a>shell内置命令</h2><h3 id="alias设置别名"><a href="#alias设置别名" class="headerlink" title="alias设置别名"></a>alias设置别名</h3><ul>
<li><code>shell</code>内置命令就是<code>bash</code>自身提供的命令而不是脚本文件</li>
<li><code>type cd</code>就可以查看是否是内其嵌入命令</li>
<li><code>alias</code>命令可以查看所有别名列表</li>
<li>语法:<ul>
<li><code>alias 别名=命令</code></li>
</ul>
</li>
<li><code>unalias</code>别名删除语法：<ul>
<li><code>unalias 别名</code></li>
<li><code>unalias -a</code> 删除所有别名</li>
</ul>
</li>
<li>内置命令执行速度快,外部脚本文件执行速度慢,执行效率慢</li>
<li><code>alias lla = &quot;ll -a&quot;</code></li>
</ul>
<h3 id="echo命令"><a href="#echo命令" class="headerlink" title="echo命令"></a>echo命令</h3><ul>
<li><code>echo</code>命令默认换行输出,加上一个参数 <code>-n</code> 就可以不换行输出</li>
<li>默认不一会解析换行,但是也可以解析换行,使用 <code>-e</code> 表示解析换行符号</li>
<li>同时可以配合<code>\c</code>(用于清除结尾换行符号)</li>
</ul>
<h3 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h3><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read [-options] [var1,var2 ...]</span><br></pre></td></tr></table></figure></li>
<li>没有设置选项,那么就可以在 <code>REPLY</code>变量中读取到最后一个数据</li>
<li><code>read 变量名</code>就可以把输入内容输入到变量名中</li>
<li>选项:<ul>
<li><code>-n num</code> 读取 <code>num</code>个字符</li>
<li><code>-p prompt</code> 显示提示信息</li>
<li><code>-s</code> 静默模式</li>
<li><code>-t seconds</code> 设置超时时间</li>
</ul>
</li>
<li>读取一个字符就可以使用 <code>-n 1</code> 就可以了</li>
</ul>
<h3 id="exit-退出命令"><a href="#exit-退出命令" class="headerlink" title="exit 退出命令"></a>exit 退出命令</h3><ul>
<li><code>exit</code>用于推出当前<code>shell</code>环境,并且可以返回一个状态码,可以利用 <code>$?</code> 获取推出状态码</li>
<li>正确推出状态码: <code>exit</code></li>
<li>错误推出语法: <code>exit 非0数字</code></li>
<li>可以利用不同的状态定义不同的状态</li>
<li>可以使用 <code>$?</code> 来确定返回的状态码</li>
</ul>
<h2 id="declare设置变量"><a href="#declare设置变量" class="headerlink" title="declare设置变量"></a>declare设置变量</h2><ul>
<li>可以使用 <code>declared</code> 设置变量的属性</li>
<li>可以使用 <code>declared</code> 查看全部 <code>shell</code> 变量和函数</li>
<li>可以实现索引数组和关联数组赋值</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare [+/-][aArxif][变量名称=设置值]</span><br></pre></td></tr></table></figure></li>
<li><ul>
<li>&#x2F; - 表示设置或者取消类型</li>
</ul>
</li>
<li>a array</li>
<li>A key-value形式的关联容器</li>
<li>r readonly</li>
<li>x 设置全局变量</li>
<li>i 设置整形</li>
<li>f 设置函数类型</li>
<li>关联数组: 键值对数组:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare -A 关联数组名称=([字符串key]=值1 [字符串key2]=值2)</span><br></pre></td></tr></table></figure></li>
<li>创建所有数组<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare -a 索引数组=(item1 item2)</span><br><span class="line">declare -a 索引数组=([索引1]=value1 [索引2]=value2)</span><br></pre></td></tr></table></figure></li>
<li>获取变量类型一致</li>
</ul>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><h4 id="expr命令"><a href="#expr命令" class="headerlink" title="expr命令"></a>expr命令</h4><ul>
<li>计算语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expr 算术运算符表达式</span><br></pre></td></tr></table></figure></li>
<li>获取计算结果给一个变量:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result=`expr 计算表达式`</span><br></pre></td></tr></table></figure></li>
<li>注意字符之间一定需要空格 <code>expr 1 + 1</code></li>
<li>注意使用 <code>*</code> 和 <code>()</code> 都需要使用 <code>\</code> 进行转义字符的转义</li>
</ul>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><ul>
<li>整数比较运算符号:<ul>
<li><code>-eq</code> 相等</li>
<li><code>-nq</code> 不相等</li>
<li><code>-gt</code> 大于</li>
<li><code>-lt</code> 小于</li>
<li><code>-ge</code> 大于等于</li>
<li><code>-le</code> 小于的呢关于</li>
<li><code>&gt;</code></li>
<li><code>&lt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;=</code></li>
<li><code>==</code></li>
<li><code>!=</code></li>
</ul>
</li>
<li>使用方式 <code>[ a -eq -b ]</code>,可以使用 $? 查看执行结果</li>
<li>使用方式: <code>(($a&gt;$b))</code></li>
<li>字符串比较运算符号如下: 不成立返回<code>1</code>否则返回 <code>0</code><ul>
<li><code>=</code> 或者 <code>==</code>  表示相等 <code>0</code> 表示不相等</li>
<li><code>!=</code></li>
<li><code>&lt;</code></li>
<li><code>&gt;</code></li>
<li><code>-z</code> 检测字符串长度是否为 0 <code>[-z $a]</code>,不为空返回 <code>1</code> </li>
<li><code>-n</code> 检测字符串长度是否不为 0,不为<code>0</code> 返回<code>true</code> <code>[ -n &quot;$a&quot; ]</code></li>
<li><code>$</code> 检测是否为空 <code>[ $a ]</code>不为空返回 <code>0</code> 否则返回 <code>1</code></li>
</ul>
</li>
<li>使用 <code>[[]]</code> 不需要转移,否则就需要转义字符进行转义</li>
<li>可以配合 <code>&amp;&amp;</code> 和 <code>||</code> 使用</li>
<li><code>[]</code> 和 <code>[[]]</code></li>
<li><code>[[]]</code> 不会发生分割,<code>[]</code> 会发生分割</li>
<li>就是 “a b” 会被分割</li>
<li><code>[[]]</code> 不需要进行转义,<code>[]</code> 不会发生转义</li>
</ul>
<h3 id="bool运算符"><a href="#bool运算符" class="headerlink" title="bool运算符"></a>bool运算符</h3><ul>
<li>如下:<ul>
<li><code>!</code> 用于取反</li>
<li><code>-o</code> 表示 <code>or</code> 有一个成立就可以成立  <code>[ 表达式1 -o 表达式2 ]</code></li>
<li><code>-a</code> 表示 <code>and</code> <code>[ 表达式1 -a 表达式2 ]</code></li>
</ul>
</li>
</ul>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><ul>
<li>如下:<ul>
<li><code>&amp;&amp;</code></li>
<li><code>||</code></li>
<li><code>!</code></li>
</ul>
</li>
<li>使用方式 <code>[[ 表达式1 &amp;&amp; 表达式2 ]]</code></li>
</ul>
<h3 id="文件测试运算符"><a href="#文件测试运算符" class="headerlink" title="文件测试运算符"></a>文件测试运算符</h3><ul>
<li>文件类型:<ul>
<li>普通文件 <code>-</code></li>
<li>目录文件 <code>d</code></li>
<li>链接文件 <code>l</code></li>
<li>块设备文件 <code>b</code></li>
<li>字符设备文件  <code>c</code></li>
</ul>
</li>
<li>设备文件在 <code>/dev</code> 目录下</li>
<li>运算符号:<ul>
<li><code>-w</code> 是否可以写</li>
<li><code>-r</code> 是否可以读</li>
<li><code>-x</code> 是否可读</li>
<li><code>-s</code> 是否为空</li>
<li><code>-f</code> 是否为文件</li>
<li><code>-d</code> 是否为目录</li>
<li><code>-e</code> 是否存在</li>
<li><code>-nt</code> 是否比那一个文件更新</li>
</ul>
</li>
<li>使用 <code>[ -w $file_name -a -r $file_name1]</code></li>
</ul>
<h3 id="expr命令-1"><a href="#expr命令-1" class="headerlink" title="expr命令"></a>expr命令</h3><ul>
<li>作用: 表达式求解值(整数计算)</li>
<li>字符串操作:<ul>
<li><code>expr length 字符串</code></li>
<li><code>expr substr 字符串 start end</code> 截取</li>
<li><code>expr index 被查找字符串 需要查找的字符</code> 查找</li>
<li><code>expr match 字符串 正则表达式(可以自己在网上找到正则表达式)</code> 返回匹配的最大长度</li>
<li><code>expr 字符串 : 正则表达式</code></li>
</ul>
</li>
</ul>
<h3 id="命令"><a href="#命令" class="headerlink" title="(()) 命令"></a>(()) 命令</h3><ul>
<li>作用进行整数计算</li>
<li>语法: <code>((表达式))</code></li>
<li>用法:<ul>
<li><code>((b=a-1))</code></li>
<li><code>a=$((b-1))</code></li>
<li><code>((a=c-1,b=a+10))</code></li>
<li><code>echo $((a+10))</code></li>
<li>((a&gt;7 &amp;&amp; b&lt;8))</li>
</ul>
</li>
<li>用于括号内赋值,可以看成 <code>(())</code> 就是 <code>python</code> 运行环境,可以进行多表达式赋值,同时可以结合 <code>$</code> 进行赋值,也可以进行表达式的操作</li>
</ul>
<h3 id="let命令"><a href="#let命令" class="headerlink" title="let命令"></a>let命令</h3><ul>
<li>语法: <code>let 赋值表达式</code></li>
</ul>
<h3 id="命令-1"><a href="#命令-1" class="headerlink" title="$[]命令"></a>$[]命令</h3><ul>
<li>作用就是可以进行整数运算,只可以计算结果赋值给变量,但是里面不可以进行赋值运算</li>
</ul>
<h3 id="bc命令"><a href="#bc命令" class="headerlink" title="bc命令"></a>bc命令</h3><ul>
<li>内置的计算器,支持浮点运算,还可以进行进制的转换等操作</li>
<li>语法: <code>bc [options] [参数]</code></li>
<li>选项:<ul>
<li><code>-h</code> 帮助</li>
<li><code>-v</code> 显示版本</li>
<li><code>-l</code> mathlib 使用标准数学库</li>
<li><code>-i</code> 强制交互</li>
<li><code>-w</code> 显示警告信息</li>
<li><code>-s</code> 使用 <code>POSIX</code> 标准</li>
<li><code>-q</code> <code>quiet</code> 不显示欢迎信息</li>
</ul>
</li>
<li>同时 <code>bc -q 文件</code> 就可以计算文件中的表达式</li>
<li>内置变量:<ul>
<li><code>scale</code> 指定精度</li>
<li><code>ibase</code> 指定输入的数字的进制</li>
<li><code>obase</code> 指定输出的数字进制</li>
<li><code>last</code> 获取最近计算打印结果的数字</li>
</ul>
</li>
<li>内置数学函数:(使用 <code>-l</code>参数)<ul>
<li><code>s(x)</code> <code>sin</code></li>
<li><code>c(x)</code> <code>cos</code></li>
<li><code>a(x)</code> <code>arctan</code></li>
<li><code>l(x)</code> <code>log(x)</code></li>
<li><code>e(x)</code>  <code>e</code></li>
<li><code>j(n,x)</code> 贝塞尔函数</li>
</ul>
</li>
<li>具体用法:<ul>
<li>互动式的计算 <code>bc -q</code> 进入就可以了 </li>
<li>使用管道</li>
</ul>
</li>
</ul>
<h4 id="使用管道进行计算"><a href="#使用管道进行计算" class="headerlink" title="使用管道进行计算"></a>使用管道进行计算</h4><ul>
<li><code>echo &quot;expression&quot; | bc [options]</code></li>
<li><code>&quot;expression&quot;</code> 必须符合 <code>bc</code> 命令要求的公式</li>
<li><code>shell</code> 中的变量使用 <code>$</code> 取得</li>
<li>也可以把 <code>bc</code> 变量赋值给 变量 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var_name=`echo &quot;expression&quot; | bc [options]`</span><br><span class="line"></span><br><span class="line">var_name= $(echo &quot;expression&quot; | bc [options])</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="非互动式的输重定向运算"><a href="#非互动式的输重定向运算" class="headerlink" title="非互动式的输重定向运算"></a>非互动式的输重定向运算</h4><ul>
<li>语法<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">第一种方式</span></span><br><span class="line">var_name=`bc &lt;&lt; EOF` </span><br><span class="line">第一行表达式</span><br><span class="line">第二行表达式</span><br><span class="line">...</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li>
<li>作用将多行表达式输入到 <code>bc</code> 中<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var_name=$(</span><br><span class="line">  bc &lt;&lt; EOF</span><br><span class="line">  表达式1</span><br><span class="line">  表达式2</span><br><span class="line">  表达式3</span><br><span class="line">  ...</span><br><span class="line">  EOF</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h2><h3 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if 条件</span><br><span class="line">then </span><br><span class="line">  命令</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if 命令</span><br><span class="line">then</span><br><span class="line">  命令</span><br><span class="line">else</span><br><span class="line">  命令</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">if 条件</span><br><span class="line">then </span><br><span class="line">   命令</span><br><span class="line">elif</span><br><span class="line">then</span><br><span class="line">  命令</span><br><span class="line">elif </span><br><span class="line">then</span><br><span class="line">  命令</span><br><span class="line">else </span><br><span class="line">  ...</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<ul>
<li>条件使用 <code>[[]]</code> 或者 <code>(())</code> 都可以</li>
<li>注意 <code>(())</code> 中就相当于其他语言运行环境,其中取出变量可以不用使用 <code>$</code></li>
<li><code>if 表达式; then echo &quot;成立&quot; ;else echo &quot;不成立&quot;; fi; </code></li>
</ul>
<h4 id="退出状态"><a href="#退出状态" class="headerlink" title="退出状态"></a>退出状态</h4><ul>
<li><code>linux</code>命令执行完毕之后都会返回一个退出状态,大多数命令中 <code>0</code> 表示成功 <code>1</code> 表示不成功</li>
<li><code>if</code> 中使用逻辑连接符号就可以通过返回值判断表达式是否正确</li>
</ul>
<h3 id="test命令"><a href="#test命令" class="headerlink" title="test命令"></a>test命令</h3><ul>
<li>对于整数和字符串和文件的测试</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if test 数字1 options 数字2</span><br><span class="line">then </span><br><span class="line"> ...</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></li>
<li><code>options</code>:<ul>
<li><code>-eq</code></li>
<li><code>-ne</code></li>
<li><code>-gt</code></li>
<li><code>-lt</code></li>
<li><code>-ge</code></li>
<li><code>-le</code></li>
</ul>
</li>
<li>字符串的比较:<ul>
<li><code>=</code> 或者 <code>==</code></li>
<li><code>!=</code></li>
<li><code>\&gt;</code></li>
<li><code>\&lt;</code></li>
<li><code>-z 字符串</code> 长度为 <code>0</code> 就是真的</li>
<li><code>-n 字符串</code> 字符串的长度不为 <code>0</code> 就是真</li>
</ul>
</li>
<li>文件比较:<ul>
<li>文件相关的命令</li>
</ul>
</li>
</ul>
<h3 id="cast-语句"><a href="#cast-语句" class="headerlink" title="cast 语句"></a>cast 语句</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">case 值 in </span><br><span class="line">匹配模式1)</span><br><span class="line">  命令1</span><br><span class="line">  命令2</span><br><span class="line">  ;;</span><br><span class="line">匹配模式2)</span><br><span class="line">  命令1</span><br><span class="line">  命令2</span><br><span class="line">  ;;</span><br><span class="line">..</span><br><span class="line">*)</span><br><span class="line">  命令1</span><br><span class="line">  命令2</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<ul>
<li>只支持如下:<ul>
<li><code>*</code></li>
<li><code>[abc]</code></li>
<li><code>[m-n]</code></li>
<li><code>|</code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">case $number in</span><br><span class="line">1)</span><br><span class="line">	echo &quot;星期一&quot;</span><br><span class="line">	;;</span><br><span class="line">2)</span><br><span class="line">	echo &quot;星期二&quot;</span><br><span class="line">	;;</span><br><span class="line">3)</span><br><span class="line">	echo &quot;星期三&quot;</span><br><span class="line">	;;</span><br><span class="line">4)</span><br><span class="line">	echo &quot;星期四&quot;</span><br><span class="line">	;;</span><br><span class="line">5)</span><br><span class="line">	echo &quot;星期五&quot;</span><br><span class="line">	;;</span><br><span class="line">6)</span><br><span class="line">	echo &quot;星期六&quot;</span><br><span class="line">	;;</span><br><span class="line">0|7)</span><br><span class="line">	echo &quot;星期日&quot;</span><br><span class="line">	;;</span><br><span class="line">*)</span><br><span class="line">	echo &quot;数据不合法&quot;</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h2><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">while 条件</span><br><span class="line">do </span><br><span class="line">  命令1</span><br><span class="line">  命令2</span><br><span class="line">  ...</span><br><span class="line">  continue; # 结束当前这一次循环,进入下一次循环</span><br><span class="line">  break;</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li>一行的写法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while 条件; do 命令; done;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入循环次数&quot; num</span><br><span class="line">count=1</span><br><span class="line">while ((count&lt;=num))</span><br><span class="line">do</span><br><span class="line">	if ((count%2==0))</span><br><span class="line">	then</span><br><span class="line">		echo &quot;$&#123;count&#125;是偶数&quot;</span><br><span class="line">	else</span><br><span class="line">		echo &quot;$&#123;count&#125;是奇数&quot;</span><br><span class="line">	fi</span><br><span class="line">	((count=count+1))</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="until语句"><a href="#until语句" class="headerlink" title="until语句"></a>until语句</h2><ul>
<li><code>until</code>也是循环语句,但是和 <code>while</code>相反,如果条件为 <code>false</code> 才继续循环</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until 条件</span><br><span class="line">do</span><br><span class="line">  命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li>推荐使用<code>(())</code>使用 <code>[[]]</code> 需要使用 <code>$</code></li>
</ul>
<h2 id="for循环语句"><a href="#for循环语句" class="headerlink" title="for循环语句"></a>for循环语句</h2><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do </span><br><span class="line">   命令1</span><br><span class="line">   命令2</span><br><span class="line">   命令3</span><br><span class="line">   ...</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li>一行写法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN; do 命令1; 命令2</span><br></pre></td></tr></table></figure></li>
<li>或者范围写法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for var in &#123;start..end&#125;</span><br><span class="line">do </span><br><span class="line">   命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">i=0</span><br><span class="line">for i in &#123;1..100&#125;</span><br><span class="line">do</span><br><span class="line">	echo &quot;hello,$&#123;i&#125;&quot;</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>或者第三种方式:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((i=start;i&lt;=end;i++))</span><br><span class="line">do</span><br><span class="line">   命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li>一行写法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for((i=start;i&lt;=end;i++)); do 命令;done</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="select-语句"><a href="#select-语句" class="headerlink" title="select 语句"></a>select 语句</h2><ul>
<li>用于增强交互性,可以显示带编号的菜单</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select var in menu1 menu2 ...</span><br><span class="line">do </span><br><span class="line">   命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li><code>select</code>是无限循环,输入空值,或者输入的值无效,都不会结束循环,之后只有遇到 <code>break</code>或者 <code>ctrl + d</code> 才会结束循环</li>
<li>一般可以配合 <code>case</code> 使用<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;请输入你的爱好&quot; </span><br><span class="line">select hobby in &quot;编程&quot; &quot;篮球&quot; &quot;游戏&quot;</span><br><span class="line">do</span><br><span class="line">    case $hobby in</span><br><span class="line">    &quot;编程&quot;)</span><br><span class="line">	    echo &quot;多敲代码&quot;</span><br><span class="line">	    break</span><br><span class="line">	    ;;</span><br><span class="line">    &quot;篮球&quot;)</span><br><span class="line">	    echo &quot;运动有益于身体健康&quot;</span><br><span class="line">	    break</span><br><span class="line">	    ;;</span><br><span class="line">    &quot;游戏&quot;)</span><br><span class="line">	    echo &quot;少玩游戏&quot;</span><br><span class="line">	    break</span><br><span class="line">	    ;;</span><br><span class="line">     *)</span><br><span class="line">	     echo &quot;输入有误,重新输入&quot;</span><br><span class="line">	     ;;</span><br><span class="line">     esac</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="shell函数"><a href="#shell函数" class="headerlink" title="shell函数"></a>shell函数</h2><h3 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h3><ul>
<li>实现代码复用性</li>
<li>常用的系统函数:<ul>
<li><code>basename [string / pathname] [suffix]</code> 用于提取文件名称,<code>[suffix]</code> 表示曲调文件后缀名称</li>
<li><code>dirname</code> 去掉文件名称,只留下目录名称</li>
</ul>
</li>
<li>可以使用 <code>declare -f</code> 查看所有系统函数</li>
</ul>
<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname ()</span><br><span class="line">&#123;</span><br><span class="line">  命令</span><br><span class="line">  [ reutrn 返回值 ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">调用函数</span></span><br><span class="line">funname 参数1 传递参数2 ...</span><br></pre></td></tr></table></figure></li>
<li>可以使用 <code>$?</code> 获取返回值<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">function sum()</span><br><span class="line">&#123;</span><br><span class="line">   read -p &quot;请输入第一个数字&quot; first</span><br><span class="line">   read -p &quot;请输入第二个数字&quot; second</span><br><span class="line">   return $((first + second))  # 表示返回两个数字的和,注意利用 $取出变量</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum</span><br><span class="line">echo &quot;返回值为: $?&quot;</span><br></pre></td></tr></table></figure></li>
<li>注意 <code>(())</code> 返回的就是一个变量,可以使用 <code>$</code> 取得他的值</li>
</ul>
<h4 id="有参函数"><a href="#有参函数" class="headerlink" title="有参函数"></a>有参函数</h4><ul>
<li><code>$#</code> 表示参数个数</li>
<li><code>$*</code> 以一个子夫差un显示所有向脚本传递的参数</li>
<li><code>$$</code> 脚本运行的当前进程 <code>ID</code></li>
<li><code>$!</code> 后台运行的最后一个进程</li>
<li><code>$@</code> 和 <code>$*</code> 相同,但是使用的时候需要加上 引号,并且在引号中返回每一个参数</li>
<li><code>$?</code> 显示最后一个命令的退出状态</li>
<li><code>shell</code> 命令和函数的区别: <ul>
<li><code>shell</code> 命令(包含内置命令和外部脚本文件)在子 <code>shell</code> 中运行,运行时就会开启一个单独的进程</li>
<li>但是函数在当前的 <code>shell</code> 进程中运行</li>
</ul>
</li>
</ul>
<h2 id="Shell重定向输入输出"><a href="#Shell重定向输入输出" class="headerlink" title="Shell重定向输入输出"></a>Shell重定向输入输出</h2><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><ul>
<li>标准输入: 从键盘读取用户输入的数据,然后把数据拿到 <code>shell</code> 程序中使用</li>
<li>标准输出: <code>shell</code>程序产生的数据,一般显示显示屏上共用户浏览查看</li>
<li>每一个 <code>linux</code> 命令运行时就会打开三个文件,如下:<ul>
<li><code>stdin</code>(标准输入),文件描述符号为 <code>0</code> 获取键盘上的输入数据</li>
<li><code>stdout</code>(标准输出),文件描述符号为 <code>1</code> ,将正确的数据输出到显示屏上</li>
<li><code>stderr</code>(输出文件),文件描述符号<code>2</code>,将错误信息将显示器</li>
</ul>
</li>
<li>重定向:<ul>
<li>标准输出表示从键盘输入到程序,输入重定向就是改变了这一个方向</li>
<li>标准输入表示从程序输出到显示器,输出重定向就是改变了这一个方向</li>
</ul>
</li>
<li>命令如下(<code>&gt;</code>  表示覆盖方式,<code>&gt;&gt;</code> 表示追加数据)</li>
<li>各种命令如下:</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &gt; file</td>
<td>将正确的数据输出到<code>file</code>文件中,覆盖方式</td>
</tr>
<tr>
<td>命令 &lt; file</td>
<td>将输入重定向从file文件中读取数据</td>
</tr>
<tr>
<td>命令 &gt;&gt; file</td>
<td>将正确的数据重定向输出到file中,追加方式</td>
</tr>
<tr>
<td>命令 &lt; file1 &gt; file2</td>
<td>从file1文件中读取数据,输出数据到file2文件中</td>
</tr>
<tr>
<td>命令 fd &gt; file</td>
<td>将指定文件描述符fd将数据重定向输出到file文件中,覆盖方式</td>
</tr>
<tr>
<td>命令 fd &gt;&gt; file</td>
<td>根据指定的文件描述符号fd将数据重定向输出到file文件中,追加方式</td>
</tr>
<tr>
<td>命令 fd &gt; file fd1 &gt;&amp; fd2</td>
<td>将fd1 和 fd2文件描述符号合并输出到文件中(表示输入到fd1和fd2)</td>
</tr>
<tr>
<td>fd1 &lt;&amp; fd2</td>
<td>将fd1和fd2文件描述符合并从文件读取输入(合并输入)</td>
</tr>
<tr>
<td>&lt;&lt; tag</td>
<td>读取终端输出数据,将开始标记tag和结束tag之间的内容作为输入,标记名tag可以任意</td>
</tr>
</tbody></table>
<ul>
<li>例如:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello&quot; &gt; log.txt</span><br><span class="line">echo &quot;hello world&quot; &gt;&gt; log.txt</span><br><span class="line">ll -afdasfdf 2 &gt; log.txt</span><br><span class="line">ll -afafas &gt;&gt; log.txt 2&gt;&amp;1</span><br><span class="line">echo &quot;hello world&quot; &gt;&gt; log.txt 2&gt;&amp;1  # 表示输入正确信息和错误信息(都可以输出到文件中)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h4><ul>
<li>可以使用 <code>wc</code> 命令进行统计</li>
<li><code>wc [options] [文件名]</code></li>
<li><code>options</code>:<ul>
<li><code>-c</code>  统计字节数量</li>
<li><code>-w</code>  <code>word</code> 统计单词数量</li>
<li><code>-l</code>  <code>line</code> 统计行数<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc -l &lt; log.txt</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>循环读取的方式如下:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while read str; do echo &quot;$str&quot; ; done &lt; log.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rowno=1;while read str;do echo &quot;第$&#123;rowno&#125;行: $str&quot;;let rowno++;done &lt; log.txt</span><br></pre></td></tr></table></figure></li>
<li>通过标记读取数据<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">wc</span> -l &lt;&lt; <span class="string">EOF</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">aaaa</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">bbb</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">ccc</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">ddd</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">eee</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">EOF</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="shell中的工具"><a href="#shell中的工具" class="headerlink" title="shell中的工具"></a>shell中的工具</h2><h3 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h3><ul>
<li><code>cut</code>: 用于切割提取指定列\字符\字节的数据</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut [options] filename</span><br></pre></td></tr></table></figure></li>
<li><code>options</code>选项分析: <ul>
<li><code>-f 提取范围</code> 列号,获取第几行</li>
<li><code>-d 自定义分割符</code> 自定义分割符号,默认就是制表符号</li>
<li><code>-c 提取范围</code> 以字符为单位进行分割</li>
<li><code>-b 提取范围</code> 以字节为单位进行分割,这些字节将忽略多字节字符边界,除非也制定了 <code>-n</code>标志</li>
<li><code>-n</code>和<code>-b</code>选项连续使用,部分个多字节字符</li>
</ul>
</li>
<li>范围说明:<ul>
<li><code>n-</code> 表示截取 <code>n</code> 列之后的</li>
<li><code>n - m</code> 表示截取 <code>n - m</code>列</li>
<li><code>-m</code> 表示截取<code>m</code>列之前的列</li>
<li><code>n1 n2 n3</code> 表示截取特定的列<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">表示截取第一列和第三列 d 比较重要</span></span><br><span class="line">cut cut1.txt -d &quot; &quot; -f 1,3 </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>按照字符进行截取<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;helloworld&quot; | cut -nb 1-3</span><br></pre></td></tr></table></figure></li>
<li>切割一行中的数据<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> cut1.txt | grep itheima| <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 2</span></span><br></pre></td></tr></table></figure></li>
<li>同时可以配合 <code>head</code> 等命令使用 <code>-n</code> 表示条数<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ps aux | grep bash | <span class="built_in">head</span> -n 1 | <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 7</span></span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ifconfig | grep inet | <span class="built_in">head</span> -n 1 |  <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 10</span></span><br></pre></td></tr></table></figure>
<h3 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h3><ul>
<li>一种文件编辑工具: </li>
<li>处理流程:<br><img src="/img/Screenshot_20240822_211305_tv.danmaku.bilibilihd.jpg" alt="source/_posts/2024/linux基础/img/Screenshot_20240822_211305_tv.danmaku.bilibilihd.jpg"></li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed [选项参数] [模式匹配/sed程序命令] [文件名]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">模式匹配,sed会读取每一行数据到模式空间中,之后判断的当前行是否符合模式匹配要求,符合要求就会执行 sed命令,否则就不会执行 sed命令,如果不懈匹配模式,那么每一行都会执行sed程序命令</span></span><br></pre></td></tr></table></figure></li>
<li>选项参数:<ul>
<li><code>-e</code>  直接在指令模式上进行<code>sed</code>动作编辑,他告诉<code>sed</code>下一个参数解释为一个<code>sed</code>指令,只有当命令行上给出多个<code>sed</code>指令才需要使用<code>-e</code>选项,一行命令语句可以指定多个<code>sed</code>命令</li>
<li><code>-i</code>  直接对于内容进行修改,不加上 <code>-i</code> 是默认只是预览,不会对于文件作出实际修改</li>
<li><code>-f</code> 后跟上了保存<code>sed</code>指令的文件</li>
<li><code>-n</code> 取消默认输出,<code>sed</code>默认会输出所有文本内容,使用 <code>-n</code> 参数后只会显示处理过的行</li>
<li><code>-r reguler</code> 使用拓展正则表达式,默认情况下<code>sed</code>之后识别基本正则表达式<code>*</code></li>
</ul>
</li>
<li>基本命令描述如下:<ul>
<li><code>a</code> <code>add</code>新增,<code>a</code>的后面可以接上字符串,在下一行出现</li>
<li><code>c</code> <code>change</code>更改,更改匹配行的内容</li>
<li><code>d</code> <code>delete</code>删除,删除匹配的内容</li>
<li><code>i</code> <code>insert</code>插入,向匹配行前面插入内容</li>
<li><code>p</code> <code>print</code>打印,打印出匹配的内容,通常和<code>-n</code>选项和用</li>
<li><code>s</code> <code>substitute</code>替换,替换调匹配的内容</li>
<li><code>=</code> 用于打印被匹配的行号</li>
<li><code>n</code> 读取下一行,遇到<code>n</code>会自动跳转到下一行</li>
</ul>
</li>
<li>特殊符号:<ul>
<li><code>!</code> 就像一个<code>sed</code>命令,放在限制条件的后面表示去反</li>
<li><code>&#123;sed命令1;sed命令2&#125;</code> 多个命令操作同一个行</li>
</ul>
</li>
<li>例如:</li>
<li>插入数据<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">基本上就是 `条件 选项 添加字符`的形式</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -i  <span class="string">&#x27;3ahello&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">表示在第三行的后面加上`hello` `-i`表示修改参数</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima/ahello&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">表示在 `itheima` 的后面添加数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;$ihello&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">表示在最后一行前面添加数据</span></span><br></pre></td></tr></table></figure></li>
<li>删除文件中的数据<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除第二行数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;2d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除奇数行 ~表示每隔几行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1~2d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除 1 - 3行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1,3d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取反</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1,3!d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除最后一行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;$d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除含有某一行的数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima/d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除匹配和最后一行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima/,$d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除匹配和最后一行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima/,+1d&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除部匹配的行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima\|itcast/!d&#x27;</span> sed.txt</span></span><br></pre></td></tr></table></figure></li>
<li>更改文件中的数据<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">包含 itheima 修改为 hello</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/itheima/chello&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">最后一行修改为 hello</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;$chello&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">替换每行第一个 hello</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed  <span class="string">&#x27;s/itheima/hello/&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">全局匹配替换(一行中所有都会替换)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed  <span class="string">&#x27;s/itheima/hello/g&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将每一行中的第二个进行匹配替换</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed  <span class="string">&#x27;s/itheima/hello/2&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">替换之后把内容写入到文件中</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed  <span class="string">&#x27;s/itheima/hello/2w sed2.txt&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只显示修改的行(p表示显示,n表示匹配)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed  -n <span class="string">&#x27;s/itheima/hello/2pw sed2.txt&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">正则表达式替换</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">// 表示替换成空字符串</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -n <span class="string">&#x27;/i/s/t.*//p&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">每一行的末尾拼接 <span class="built_in">test</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;s/$/&amp; test/&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">每一行行首拼接 <span class="comment">#</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;s/^/&amp;#/&#x27;</span> sed.txt</span></span><br></pre></td></tr></table></figure></li>
<li>查询操作<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询含有 itcast 的数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -n <span class="string">&#x27;/itcast/p&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询 bash</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ps aux | sed -n <span class="string">&#x27;/bash/p&#x27;</span></span></span><br></pre></td></tr></table></figure></li>
<li>执行多个命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行多个shell命令</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed -e <span class="string">&#x27;1d&#x27;</span> -e <span class="string">&#x27;s/itheima/itcast/g&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行多个shell命令</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1d;s/itheima/itcast/g&#x27;</span> sed.txt</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="sed高级用法-缓存区数据交换"><a href="#sed高级用法-缓存区数据交换" class="headerlink" title="sed高级用法:缓存区数据交换"></a>sed高级用法:缓存区数据交换</h4><ul>
<li>模式空间和暂存空间:<ul>
<li><code>sed</code>命令读出来每一行数据存放的空间叫做模式空间,会在该空间中对于读到的数据作相应处理</li>
<li>此外<code>sed</code>还有一个额外的空间就是暂存空间,暂存空间刚开始只有一个空行</li>
<li><code>sed</code>可以通过相关的命令从模式空间向暂存空间去内容放入到模式空间中</li>
</ul>
</li>
<li>命令:<ul>
<li><code>h</code> 将模式空间中的内容复制到暂存空间中(覆盖方式)</li>
<li><code>H</code> 将模式空间中的内容复制到暂存空间中(追加方式)</li>
<li><code>g</code> 将暂存空间中的数据复制到模式空间中(覆盖方式)</li>
<li><code>G</code> 将暂存空间中的数据复制到模式空间中(追加方式)</li>
<li><code>x</code> 交换两个空间的内容</li>
</ul>
</li>
<li>演示<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将模式空间中的第一行复制到暂存空间(覆盖模式),并且把暂存空间的最后一行复制到模式空间中(追加模式)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1h;$G&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时删除第一行数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1&#123;h;d&#125;;$G&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">第一行的数据赋值粘贴</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">模式空间第一行复制到暂存空间中,最后把暂存空间爱你的内容赋值粘贴从第2行开始到最后一行的数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1h;2,$g&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将前三行数据复制到暂存空间,之后把暂存空间的所有内容复制到最后一行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;1,3H;$G&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">暂存空间中有一行空行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加空行,此时会给每一行给一个空行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;G&#x27;</span> sed.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除空行(正则表达式处理)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;/^$/d&#x27;</span> sed.txt</span></span><br></pre></td></tr></table></figure></li>
<li>暂存空间的作用就是暂存数据进行数据交换</li>
</ul>
<h3 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h3><ul>
<li>一个文本分析工具</li>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk [options] &#x27;pattern&#123;action&#125;&#x27; &#123;filename&#125;</span><br></pre></td></tr></table></figure></li>
<li>选项:<ul>
<li><code>-F</code> 指定输入文件拆分分割符号</li>
</ul>
</li>
<li>内置变量:<ul>
<li><code>NF</code>  浏览记录的域的个数,根据分割符号分割之后的列数量</li>
<li><code>NR</code> 已读的记录数量</li>
<li><code>$n</code> 表示整条数据 <code>$0</code> 表示整条记录,<code>$n</code>表示第<code>n</code>个域</li>
<li><code>$NF</code> 表示最后一列的信息</li>
</ul>
</li>
<li>实例<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认按照空格分割数据</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;abc 123 456&quot;</span> | awk <span class="string">&#x27;&#123;print $1&quot;&amp;&quot;$2&quot;&amp;&quot;$3&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">结果</span></span><br><span class="line">abc&amp;123&amp;456</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">搜索含有关键字的所有行</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk <span class="string">&#x27;/root/&#123;print $0&#125;&#x27;</span> passwd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打印第七列数据</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意分割之后还是可以通过 <span class="variable">$0</span> 获取到内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意只有表达式需要 &#123;&#125;</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk -F <span class="string">&quot;:&quot;</span> <span class="string">&#x27;/root/&#123;print $7&#125;&#x27;</span> passwd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取文件名,行号,列号,内容</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk -F <span class="string">&quot;:&quot;</span> <span class="string">&#x27;&#123;print &quot;文件名:&quot;FILENAME&quot;,行号:&quot;NR&quot;,烈数:&quot;NF&quot;,内容:&quot;$0&#125;&#x27;</span> passwd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">拼接字符串的方式</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk -F: <span class="string">&#x27;&#123;printf(&quot;文件名:%s,行号:%s,列号:%s,内容:%s\n&quot;,FILENAME,NR,NF,$0)&#125;&#x27;</span> passwd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意内容需要使用 `&#123;&#125;`括号</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">但是 shell 中可以不用使用 () 调用参数即可</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打印第二行信息</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">awk -F <span class="string">&quot;:&quot;</span> <span class="string">&#x27;NR==2&#123;printf(&quot;文件名:%s,内容:%s\n&quot;,FILENAME,$0)&#125;&#x27;</span> passwd</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">c 开头</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span> -a | awk  <span class="string">&#x27;/^c/&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">还可以使用 NF打印最后一列</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">甚至可以写逻辑语句</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用多个分割符号进行分割</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;one:two/three&quot;</span> | awk -F <span class="string">&quot;[:/]&quot;</span> <span class="string">&#x27;&#123;print $1&quot;&amp;&quot;$2&quot;&amp;&quot;$3&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加开始和结束</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> -e <span class="string">&quot;abc\nabc&quot;</span>| awk <span class="string">&#x27;BEGIN&#123;print &quot;开始 ...&quot;&#125;&#123;print $0&#125;END&#123;print &quot;结束了 ...&quot;&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-e 表示处理特殊字符串</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认使用空格分割</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;abc     itheima    itcast&quot;</span> | awk -v str=<span class="string">&quot;&quot;</span> <span class="string">&#x27;&#123;for(n=1;n&lt;=NF;n++)&#123;str=str$n&#125;&#125; END&#123;print str&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v相当于定义变量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运算操作</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;2.1&quot;</span> | awk -v i=1 <span class="string">&#x27;&#123;print $0+i&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">分割操作</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ifconfig | awk <span class="string">&#x27;/broadcast/&#123;print $0&#125;&#x27;</span>|<span class="built_in">head</span> -n 1 | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示行号</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sed <span class="string">&#x27;G&#x27;</span> sed.txt | awk <span class="string">&#x27;/^$/&#123;print NR&#125;&#x27;</span></span></span><br></pre></td></tr></table></figure></li>
<li>总结:<ul>
<li><code>awk</code>在查询数据方面,可以通过条件来进行文本操作,内置多种文本变量,可以通过循环等操作查询到的字符</li>
</ul>
</li>
</ul>
<h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><ul>
<li>语法:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort (options) 参数</span><br></pre></td></tr></table></figure></li>
<li>选项:<ul>
<li><code>-n</code> <code>number</code> 按照数值大小排序</li>
<li><code>-r</code> <code>reverse</code> 以相反的顺序来排序</li>
<li><code>-t 分割字符</code> 设置排序时使用的分割字符,默认空格就是分割符</li>
<li><code>-k</code> 指定需要排列的列 <code>2,2</code> 表示按照第二列进行排序</li>
<li><code>-d</code> 排序时,处理英文字母,数字和空格外,忽略其他字符</li>
<li><code>-f</code> 排序时将小写字母视为大写字母</li>
<li><code>-b</code> 忽略每一行前面开始出的空格字符</li>
<li><code>-o 输出文件</code> 将排序之后的结果存入到指定的文件中</li>
<li><code>-u</code> 意味着唯一的<code>(unique)</code>,输出的结果时完全去重的</li>
<li><code>-m</code> 将几个排序的文件进行合并</li>
</ul>
</li>
<li>实例<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">表示分割并且按照第二列排列</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot; &quot;</span>  -k2n,2 sort.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">按照两列去重</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot; &quot;</span>  -k2n,2 -uk1,2 sort.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">保存结果</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot; &quot;</span>  -k2n,2 -uk1,2 -o sort1.txt sort.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">降序排列</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot; &quot;</span>  -k2nr,2 -uk1,2 sort.txt</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">按照多列排序,注意选项含义</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sort</span> -t <span class="string">&quot;,&quot;</span> -k1,1 -k3nr,3 sort.txt</span></span><br></pre></td></tr></table></figure></li>
<li>使用:<ul>
<li>字符串升序: <code>sort -kstart,end 文件</code></li>
<li>字符串降序: <code>sort -kstartr,end 文件</code></li>
<li>数字升序: <code>sort -kstartn,end 文件</code></li>
<li>数字下序列 <code>sort -kstarttnr,end文件</code></li>
<li>多列排序:  <code>sort -kstart[nr],end -kstart[nr],end ... 文件</code></li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://xzwsloser.github.io">xzw</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://xzwsloser.github.io/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/">https://xzwsloser.github.io/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://xzwsloser.github.io" target="_blank">xzw の 的个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://img1.baidu.com/it/u=3942429818,2071392539&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=1062" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="lambda表达式"><img class="cover" src="https://img1.baidu.com/it/u=629891485,3018937399&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=889" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">lambda表达式</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/touxiang.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xzw</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xzwsloser"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xzwsloser" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/3088655042@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这是我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">Shell介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E5%85%A5%E9%97%A8"><span class="toc-number">1.2.</span> <span class="toc-text">Shell入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%AD%90Shell%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.2.</span> <span class="toc-text">父子Shell环境介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">特殊符号变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">自定义系统环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.5.</span> <span class="toc-text">加载流程原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text">字符串变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96"><span class="toc-number">1.4.1.</span> <span class="toc-text">字符串截取</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%B4%A2%E5%BC%95%E6%95%B0%E7%BB%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.</span> <span class="toc-text">Shell索引数组变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E5%86%85%E7%BD%AE%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">shell内置命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#alias%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.6.1.</span> <span class="toc-text">alias设置别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.2.</span> <span class="toc-text">echo命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-number">1.6.3.</span> <span class="toc-text">read读取控制台输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exit-%E9%80%80%E5%87%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.4.</span> <span class="toc-text">exit 退出命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#declare%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">1.7.</span> <span class="toc-text">declare设置变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.1.</span> <span class="toc-text">算术运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">expr命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.2.</span> <span class="toc-text">比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bool%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.3.</span> <span class="toc-text">bool运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.4.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.8.5.</span> <span class="toc-text">文件测试运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4-1"><span class="toc-number">1.8.6.</span> <span class="toc-text">expr命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.7.</span> <span class="toc-text">(()) 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.8.</span> <span class="toc-text">let命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4-1"><span class="toc-number">1.8.9.</span> <span class="toc-text">$[]命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bc%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.10.</span> <span class="toc-text">bc命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97"><span class="toc-number">1.8.10.1.</span> <span class="toc-text">使用管道进行计算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E4%BA%92%E5%8A%A8%E5%BC%8F%E7%9A%84%E8%BE%93%E9%87%8D%E5%AE%9A%E5%90%91%E8%BF%90%E7%AE%97"><span class="toc-number">1.8.10.2.</span> <span class="toc-text">非互动式的输重定向运算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.9.</span> <span class="toc-text">流程控制语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-else"><span class="toc-number">1.9.1.</span> <span class="toc-text">if else</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E7%8A%B6%E6%80%81"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">退出状态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.2.</span> <span class="toc-text">test命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cast-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.9.3.</span> <span class="toc-text">cast 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.10.</span> <span class="toc-text">while 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#until%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.11.</span> <span class="toc-text">until语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.12.</span> <span class="toc-text">for循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#select-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.13.</span> <span class="toc-text">select 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.</span> <span class="toc-text">shell函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.1.</span> <span class="toc-text">系统函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.2.</span> <span class="toc-text">自定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.2.1.</span> <span class="toc-text">有参函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">1.15.</span> <span class="toc-text">Shell重定向输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.15.1.</span> <span class="toc-text">重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.15.1.1.</span> <span class="toc-text">输入重定向</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E4%B8%AD%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-number">1.16.</span> <span class="toc-text">shell中的工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cut"><span class="toc-number">1.16.1.</span> <span class="toc-text">cut</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed"><span class="toc-number">1.16.2.</span> <span class="toc-text">sed</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sed%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95-%E7%BC%93%E5%AD%98%E5%8C%BA%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.16.2.1.</span> <span class="toc-text">sed高级用法:缓存区数据交换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk"><span class="toc-number">1.16.3.</span> <span class="toc-text">awk</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort"><span class="toc-number">1.16.4.</span> <span class="toc-text">sort</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/" title="shell编程"><img src="https://img1.baidu.com/it/u=3942429818,2071392539&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=1062" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shell编程"/></a><div class="content"><a class="title" href="/2024/08/22/2024-linux%E5%9F%BA%E7%A1%80-shell%E7%BC%96%E7%A8%8B/" title="shell编程">shell编程</a><time datetime="2024-08-22T15:09:13.654Z" title="发表于 2024-08-22 23:09:13">2024-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="lambda表达式"><img src="https://img1.baidu.com/it/u=629891485,3018937399&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=889" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="lambda表达式"/></a><div class="content"><a class="title" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="lambda表达式">lambda表达式</a><time datetime="2024-08-18T16:00:00.000Z" title="发表于 2024-08-19 00:00:00">2024-08-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/19/2024-hello-hexo/" title="hello hexo"><img src="https://p4.itc.cn/images01/20200729/6194bd16783e4681b231438ee226e399.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hello hexo"/></a><div class="content"><a class="title" href="/2024/08/19/2024-hello-hexo/" title="hello hexo">hello hexo</a><time datetime="2024-08-18T16:00:00.000Z" title="发表于 2024-08-19 00:00:00">2024-08-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-constexpr/" title="constexpr"><img src="https://img2.baidu.com/it/u=1471521154,3542954784&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="constexpr"/></a><div class="content"><a class="title" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-constexpr/" title="constexpr">constexpr</a><time datetime="2024-08-18T16:00:00.000Z" title="发表于 2024-08-19 00:00:00">2024-08-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-final%E5%92%8Coverride%E5%85%B3%E9%94%AE%E5%AD%97/" title="final和overrid"><img src="https://img0.baidu.com/it/u=3454166161,858901741&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=707" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="final和overrid"/></a><div class="content"><a class="title" href="/2024/08/19/2024-C-11%E7%89%B9%E6%80%A7-final%E5%92%8Coverride%E5%85%B3%E9%94%AE%E5%AD%97/" title="final和overrid">final和overrid</a><time datetime="2024-08-18T16:00:00.000Z" title="发表于 2024-08-19 00:00:00">2024-08-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By xzw</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>